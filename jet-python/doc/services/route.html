<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>Thrift module: route</title></head><body>
<div class="container-fluid">
<h1>Thrift module: route</h1>
<table class="table-bordered table-striped table-condensed"><thead><th>Module</th><th>Services</th><th>Data types</th><th>Constants</th></thead>
<tr>
<td>route</td><td><a href="#Svc_RouteService">RouteService</a><br/>
<ul>
<li><a href="#Fn_RouteService_RouteAdd">RouteAdd</a></li>
<li><a href="#Fn_RouteService_RouteDelete">RouteDelete</a></li>
<li><a href="#Fn_RouteService_RouteGet">RouteGet</a></li>
</ul>
</td>
<td><a href="#Enum_FamilyType">FamilyType</a><br/>
<a href="#Struct_GatewayAddress">GatewayAddress</a><br/>
<a href="#Enum_NextHopType">NextHopType</a><br/>
<a href="#Struct_NexthopInfo">NexthopInfo</a><br/>
<a href="#Enum_ProtocolType">ProtocolType</a><br/>
<a href="#Struct_RetRoutes">RetRoutes</a><br/>
<a href="#Struct_RouteConfig">RouteConfig</a><br/>
<a href="#Struct_RouteInfo">RouteInfo</a><br/>
</td>
<td><code><a href="#Const_ROUTE_FLAG_ADD_OVERWRITE">ROUTE_FLAG_ADD_OVERWRITE</a></code><br/>
<code><a href="#Const_ROUTE_STATE_INTERIOR">ROUTE_STATE_INTERIOR</a></code><br/>
<code><a href="#Const_SERVICE_NAME">SERVICE_NAME</a></code><br/>
<code><a href="#Const_SERVICE_VERSION">SERVICE_VERSION</a></code><br/>
</code></td>
</tr></table>
<hr/><h2 id="Constants">Constants</h2>
<table class="table-bordered table-striped table-condensed"><thead><th>Constant</th><th>Type</th><th>Value</th></thead>
<tr id="Const_SERVICE_NAME"><td><code>SERVICE_NAME</code></td><td><code>string</code></td><td><code>"RouteService"</code></td></tr><tr><td colspan="3"><blockquote>Service name to distinguish the route service using thrift multiprocessor feature.
<br/></blockquote></td></tr><tr id="Const_SERVICE_VERSION"><td><code>SERVICE_VERSION</code></td><td><code>string</code></td><td><code>"1.0"</code></td></tr><tr><td colspan="3"><blockquote>Route service APIs version
<br/></blockquote></td></tr><tr id="Const_ROUTE_STATE_INTERIOR"><td><code>ROUTE_STATE_INTERIOR</code></td><td><code>i32</code></td><td><code>1</code></td></tr><tr><td colspan="3"><blockquote>An Interior route and default.
<br/></blockquote></td></tr><tr id="Const_ROUTE_FLAG_ADD_OVERWRITE"><td><code>ROUTE_FLAG_ADD_OVERWRITE</code></td><td><code>i32</code></td><td><code>1</code></td></tr><tr><td colspan="3"><blockquote>Route overwrite, for replacing existing route with new
nexthop info
<br/></blockquote></td></tr></table><hr/><h2 id="Enumerations">Enumerations</h2>
<div class="definition"><h3 id="Enum_FamilyType">Enumeration: FamilyType</h3>
Enum for indicating the interface status
<br/><br/><table class="table-bordered table-striped table-condensed">
<tr><td><code>af_unspec</code></td><td><code>0</code></td><td>
No family
<br/></td></tr>
<tr><td><code>af_inet</code></td><td><code>1</code></td><td>
INET Family
<br/></td></tr>
</table></div>
<div class="definition"><h3 id="Enum_NextHopType">Enumeration: NextHopType</h3>
Next hop type
<br/><br/><table class="table-bordered table-striped table-condensed">
<tr><td><code>RNH_RECEIVE</code></td><td><code>0</code></td><td>
Receive
<br/></td></tr>
</table></div>
<div class="definition"><h3 id="Enum_ProtocolType">Enumeration: ProtocolType</h3>
Protocol type
<br/><br/><table class="table-bordered table-striped table-condensed">
<tr><td><code>STATIC</code></td><td><code>0</code></td><td>
Static routes
<br/></td></tr>
</table></div>
<hr/><h2 id="Structs">Data structures</h2>
<div class="definition"><h3 id="Struct_GatewayAddress">Union: GatewayAddress</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>nexthop_ip</td><td><code>string</code></td><td>Gateway IP<br/></td><td>default</td><td></td></tr>
</table><br/>Union to provide gateway IP or mac
address for next hop address
currently only nexthop address is supported
<br/></div><div class="definition"><h3 id="Struct_NexthopInfo">Struct: NexthopInfo</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>nexthop_address</td><td><code><a href="route.html#Struct_GatewayAddress">GatewayAddress</a></code></td><td>Nexthop address<br/></td><td>required</td><td></td></tr>
<tr><td>2</td><td>if_name</td><td><code>string</code></td><td>Interface name<br/></td><td>default</td><td></td></tr>
</table><br/>Route Qualified Nexthop structure
will have either gateway_ip or ethernet_mac filled.
<br/></div><div class="definition"><h3 id="Struct_RouteInfo">Struct: RouteInfo</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>prefix</td><td><code>string</code></td><td>Route prefix with prefix length  separated by '/'  example: 10.20.30.40/32<br/></td><td>default</td><td></td></tr>
<tr><td>2</td><td>preference</td><td><code>list&lt;<code>i32</code>&gt;</code></td><td>Route preference value<br/></td><td>default</td><td></td></tr>
<tr><td>3</td><td>metrics</td><td><code>list&lt;<code>i32</code>&gt;</code></td><td>Metrics<br/></td><td>default</td><td></td></tr>
<tr><td>4</td><td>owner</td><td><code>string</code></td><td>Route owner, default is system<br/></td><td>default</td><td></td></tr>
<tr><td>5</td><td>nexthops</td><td><code>list&lt;<code><a href="route.html#Struct_NexthopInfo">NexthopInfo</a></code>&gt;</code></td><td>Nexthop list.<br/></td><td>default</td><td></td></tr>
</table><br/>Route structure
<br/></div><div class="definition"><h3 id="Struct_RetRoutes">Struct: RetRoutes</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>status</td><td><code><a href="shared.html#Struct_RetStatus">shared.RetStatus</a></code></td><td>Error status<br/></td><td>default</td><td></td></tr>
<tr><td>2</td><td>table_name</td><td><code>string</code></td><td>Route table name<br/></td><td>default</td><td></td></tr>
<tr><td>3</td><td>routes</td><td><code>list&lt;<code><a href="route.html#Struct_RouteInfo">RouteInfo</a></code>&gt;</code></td><td>Routes in the table<br/></td><td>default</td><td></td></tr>
</table><br/>Struct for return values of RouteGet API
<br/></div><div class="definition"><h3 id="Struct_RouteConfig">Struct: RouteConfig</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>app_id</td><td><code>string</code></td><td>optional application id<br/></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>family_type</td><td><code><a href="route.html#Enum_FamilyType">FamilyType</a></code></td><td>family type<br/></td><td>required</td><td></td></tr>
<tr><td>3</td><td>route_prefix</td><td><code>string</code></td><td>with prefix and length prefix/length<br/></td><td>required</td><td></td></tr>
<tr><td>4</td><td>next_hoptype</td><td><code><a href="route.html#Enum_NextHopType">NextHopType</a></code></td><td>Next hop type<br/></td><td>optional</td><td>UNKNOWN</td></tr>
<tr><td>5</td><td>nexthops</td><td><code>list&lt;<code><a href="route.html#Struct_NexthopInfo">NexthopInfo</a></code>&gt;</code></td><td>Qualified next hops<br/></td><td>optional</td><td></td></tr>
<tr><td>6</td><td>route_state</td><td><code>i32</code></td><td>Route states ROUTE_STATE_INTERIOR, ...<br/></td><td>optional</td><td>1</td></tr>
<tr><td>7</td><td>table_name</td><td><code>string</code></td><td>Table name, default is inet.0<br/></td><td>optional</td><td></td></tr>
<tr><td>8</td><td>preference</td><td><code>list&lt;<code>i32</code>&gt;</code></td><td>Preference,<br/></td><td>optional</td><td></td></tr>
<tr><td>9</td><td>metric</td><td><code>list&lt;<code>i32</code>&gt;</code></td><td>Metric<br/></td><td>optional</td><td></td></tr>
<tr><td>10</td><td>protocol</td><td><code><a href="route.html#Enum_ProtocolType">ProtocolType</a></code></td><td>protocol name access/access-internal/static, default static<br/></td><td>optional</td><td></td></tr>
<tr><td>11</td><td>route_flags</td><td><code>i32</code></td><td>Route flags like ROUTE_FLAG_ADD_PROXY_ARP, ..<br/></td><td>optional</td><td>1</td></tr>
</table><br/>Route config object used for add/delete routes.
For delete operation nexthops, route_state, protocol are not used
<br/></div><hr/><h2 id="Services">Services</h2>
<h3 id="Svc_RouteService">Service: RouteService</h3>
Route Service APIs supported in JET
<br/><div class="definition"><h4 id="Fn_RouteService_RouteAdd">Function: RouteService.RouteAdd</h4>
<pre><code><a href="shared.html#Struct_RetStatus">shared.RetStatus</a></code> RouteAdd(<code><a href="route.html#Struct_RouteConfig">RouteConfig</a></code> route_config)
</pre>API to add Routes
<br/></div><div class="definition"><h4 id="Fn_RouteService_RouteDelete">Function: RouteService.RouteDelete</h4>
<pre><code><a href="shared.html#Struct_RetStatus">shared.RetStatus</a></code> RouteDelete(<code><a href="route.html#Struct_RouteConfig">RouteConfig</a></code> route_config)
</pre>API to delete the routes
<br/></div><div class="definition"><h4 id="Fn_RouteService_RouteGet">Function: RouteService.RouteGet</h4>
<pre><code><a href="route.html#Struct_RetRoutes">RetRoutes</a></code> RouteGet(<code>string</code> app_id,
                   <code>string</code> table_name,
                   <code>string</code> prefix)
</pre>API to get the routes in the given or default route table.
If Table ID is 0, to get from default route table inet.0.
If prefix is given, get all the routes matching the given prefix
<br/></div></div></body></html>
